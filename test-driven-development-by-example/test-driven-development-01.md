# Test-Driven Development: By Example

---

# 테스트 주도 개발이란,

---

# 1부 | 화폐예제

---

- 테스트 주도 개발의 리듬
    1. 재빨리 테스트를 하나 추가한다.
    2. 모든 테스트를 실행하고 새로 추가한 것이 실패하는지 확인한다.
    3. 코드를 조금 바꾼다.
    4. 모든 테스트를 실행하고 전부 성공하는지 확인한다.
    5. 리팩토링을 통해 중복을 제거한다.
- 작가가 독자에게 예측하는 놀랄만한 점
    1. 각각의 테스트가 기능의 작은 증가분을 어떻게 커버하는지
    2. 새 테스트를 돌아가게 하기 위해 얼마나 작고 못생긴 변화가 가능한지
    3. 얼마나 자주 테스트를 실행하는지
    4. 얼마나 수 없이 작은 단계를 통해 리팩토링이 되어가는지

# 1장 | 다중 통화를 지원하는 Money 객체

---

- 책 속 상황은 다음과 같다.

> 다중 통화가 적용되고 환율이 명시되는 새로운 보고서를 생성하려면 어떤 기능들이 있어야 할까?
즉, 어떤 테스트들이 있어야(이 테스트들이 모두 통과할 경우) 보고서에 제대로 계산되도록 하는 코드가 완성됐다는 걸 확신할 수 있을까?

- 책에서 제시된 테스트들은 다음과 같았다.
1. 통화가 다른 두 금액을 더해서 주어진 환율에 맞게 변한 금액을 결과로 얻을 수 있어야 한다.
2. 어떤 금액(주가)을 어떤 수(주식의 수)에 곱한 금액을 결과로 얻을 수 있어야 한다.

> 테스트를 작성할 때는 오퍼레이션의 환벽한 인터페이스에 대해 상상해보는 것이 좋다. 우리는 지금 오퍼레이션이 외부에서 어떤 식으로 보일지에 대한 이야기를 테스트 코드에 적고 있는 것이다.

오퍼레이션(operation)은 보통 메서드와 비슷한 의미로 쓰이며 객체가 수행할 수 있는 연산을 의미한다. 엄격하게는 오퍼레이션에 대한 특정한 하나의 구현을 메서드라고 부른다. 언어가 다형성을 지원할 경우 한 오퍼레이션은 여러 메서드를 가질 수 있다.

> 방금 우리가 작성한 테스트는 아직 컴파일 조차 되지 않는다. ... 실행은 안 되더라도 컴파일만은 되게 만들고 싶은데, 가장 쉬운 방법이 무엇일까? 현재 네 개의 컴파일 에러가 있다.

- 그리고 작가는 네 개의 컴파일 에러를 최소한의 구현으로 해결한다. 놀랍다. 이 과정만 들여다봐도 얼마나 구현 방식이 단계적인지 알 수 있다. 먼저 스케치를 한 다음 세밀한 부분을 채우는 것과 같다고 생각했다.

> 이 단계가 너무 작게 느껴지는가? 하지만 기억하기 바란다. TDD의 핵심은 이런 작은 단계를 밟아야 한다는 것이 아니라, 이런 작은 단계를 밟을 능력을 갖추어야 한다는 것이다. 내가 일상에서 항상 이런 식으로 작업하는지 궁금한가? 그렇지 않다. 하지만 일이 좀 묘하게 꼬이기 시작하면 난 작은 단계를 밟을 능력이 내게 있다는 사실을 기뻐하게 된다. 여러분이 직접 예제를 선택하여 작은 단계로 구현하는 연습을 해보기 바란다. 만약 정말 작은 단계로 작업하는 방법을 배우면, 저절로 적절한 크기의 단계로 작업할 수 있게 될 것이다. 그러나 큰 단계로만 작업했다면, 더 작은 단계가 적절한 경우에 대해 결코 알지 못하게 된다. 49~50p

- 숲과 나무 중 무엇부터 볼 것인가, 라는 물음에서 TDD는 이렇게 말한다고 받아들였다.
    1. 숲을 빠르게 훑고 (큰 목표에 대한 할 일 목록을 만들기)
    2. 나무와 나뭇가지에 집중한다(세부 목표와 더 작은 목표에 집중하기).

# 2장 | 타락한 객체

---